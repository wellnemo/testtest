<? namespace Bitrix\Landing;$GLOBALS['____1728407253']= array(base64_decode('Z'.'GVmaW5l'),base64_decode('ZXhwbG9'.'k'.'Z'.'Q'.'=='),base64_decode(''.'cGFjaw=='),base64_decode('bW'.'Q1'),base64_decode(''.'Y29uc3Rhbn'.'Q='),base64_decode(''.'aGFzaF9o'.'b'.'W'.'Fj'),base64_decode('c3RyY'.'21w'),base64_decode('ZX'.'hw'.'bG9'.'k'.'ZQ='.'='),base64_decode(''.'b'.'Wt0aW'.'1l'),base64_decode('dGltZ'.'Q'.'=='),base64_decode(''.'ZXhwbG'.'9kZ'.'Q=='),base64_decode('cGFjaw=='),base64_decode(''.'bWQ'.'1'),base64_decode('Y29'.'uc3RhbnQ='),base64_decode(''.'aGFza'.'F9'.'obWFj'),base64_decode('c3RyY2'.'1w'),base64_decode('ZXh'.'wbG9kZQ'.'=='),base64_decode('b'.'Wt0a'.'W1'.'l'),base64_decode(''.'dGltZQ='.'='),base64_decode('aW5f'.'Y'.'XJy'.'YXk='),base64_decode('cH'.'JlZ1'.'9yZXBsYWNlX'.'2Nh'.'b'.'G'.'xi'.'YWN'.'r'),base64_decode('bWJfc3R'.'ydG9sb3dlcg=='),base64_decode('c3RyX3J'.'lcG'.'x'.'hY2U='),base64_decode('cHJlZ19'.'tYXRj'.'aA=='),base64_decode('cH'.'JlZ1'.'9yZX'.'BsYW'.'NlX2NhbGxi'.'Y'.'WNr'));if(!function_exists(__NAMESPACE__.'\\___505846895')){function ___505846895($_1627061532){static $_19774048= false; if($_19774048 == false) $_19774048=array(''.'TEFORE'.'lOR'.'19NV'.'VRB'.'VE'.'9SX01PREU=','bGFuZGluZw==','b25'.'MYW5kaW5nU3RhcnRQd'.'W'.'J'.'s'.'aWN'.'hdG'.'lvbg'.'='.'=','aWQ=','c2'.'l0ZUl'.'k',''.'Zml'.'sdGVy','I'.'Ul'.'E',''.'UF'.'VC'.'TElD'.'X1BBR0'.'V'.'fUkVBQ0h'.'FRA==','bGltaXRfc2'.'l0Z'.'XNf'.'bnVtYm'.'VyX3'.'BhZ2U=','SU5JVElBVE9'.'SX'.'0FQ'.'U'.'F9DT'.'0RF','cmVzdA==','ZmlsdGVy','P'.'UNPREU=','S'.'U'.'5'.'JV'.'ElBVE9'.'SX'.'0F'.'Q'.'UF9DT0RF','',''.'U'.'EFZ'.'T'.'U'.'VO'.'VF9BTExPVw==','W'.'Q==','TEFO'.'RE'.'lOR19QQVlNRU5UX'.'0ZB'.'SUxFRA'.'='.'=','bGFuZGluZ1'.'9wYXltZW5'.'0X2ZhaWxl'.'ZA==',''.'c2Vs'.'ZWN0','SUQ'.'=',''.'VFlQRQ==',''.'Zml'.'sdGVy','SUQ=',''.'PUFD'.'VE'.'lWRQ==','Tg'.'==','Q'.'0hFQ0tfUEV'.'STUlTU0lPTl'.'M=','T'.'g==','ZmlsdGVy','IUlE','SUQ=',''.'dHlw'.'ZQ==','V'.'FlQRQ==','U'.'FVCTElDX1NJVEVf'.'Uk'.'VBQ'.'0hFRA==','bGlt'.'aXRfc'.'2'.'l0ZXNfb'.'nVtY'.'mVy',''.'c2VsZWN0','S'.'UQ=','Z'.'m'.'lsdGVy','U0l'.'U'.'RV9J'.'RA==','Q0hFQ0tf'.'UEVSTU'.'lT'.'U0l'.'P'.'TlM=','Tg'.'==','SUQ=','c'.'2VsZWN0','S'.'UQ=','RU'.'5USVR'.'ZX'.'1RZ'.'UEU=','RU5USVR'.'ZX'.'0l'.'E',''.'ZmlsdGVy','TE9HSUM=',''.'T1'.'I=','PU'.'V'.'OV'.'ElUWV'.'9'.'U'.'W'.'VBF',''.'RU5USV'.'RZX0lE','PUVO'.'V'.'ElUWV9UWV'.'B'.'F',''.'RU5USV'.'RZX0'.'lE','P'.'UhPT0'.'s=','SEVBR'.'EJMT0N'.'L','PUN'.'PREU'.'=','VVN'.'F','PVZ'.'BTFVF','W'.'Q==','bGlt'.'aXQ'.'=','U'.'FVCT'.'ElDX0hUTUxfR'.'ElTQU'.'xM'.'T1d'.'FRFs=',''.'RU5USVR'.'ZX1RZ'.'U'.'EU=','RU'.'5USVRZ'.'X'.'0lE','XQ==','bGltaXR'.'fc2l0Z'.'X'.'NfaHRtbF9qcw==','bGFu'.'ZG'.'luZw='.'=',''.'b'.'25MYW5ka'.'W5n'.'UHVibGljYXRpb24=','aWQ=','Ym'.'l'.'0'.'c'.'ml4MjQ=','RE'.'I=',''.'U0VMR'.'UNUIFZBTFV'.'FIEZ'.'S'.'T00gY'.'l9vcHRpb24g'.'V0hFUkUg'.'TkF'.'N'.'RT0nflB'.'B'.'Uk'.'FN'.'X'.'0Z'.'J'.'Tkl'.'TSF9EQVRF'.'JyBBTk'.'QgTU9EVUxFX0lEPSdtYW'.'lu'.'JyBB'.'Tk'.'QgU'.'0lURV9J'.'RCBJ'.'UyBOVUxM','VkFMVUU=',''.'Lg'.'==',''.'SCo=','Y'.'ml0cml4','TElDRU5TRV9LRV'.'k'.'=',''.'c'.'2h'.'h'.'MjU2','MjAxO'.'C0wMS0wMQ==','Mj'.'AxOC0wMS0'.'wM'.'Q==','LQ==','TElDRU5T'.'RV9FWFBJ'.'Uk'.'V'.'E','TEFORE'.'lOR19MSUNFTlNF'.'X0VYU'.'E'.'lSR'.'UQ=','Y'.'ml0cm'.'l4MjQ=','R'.'EI=','U0V'.'MR'.'UNUIFZBTFVF'.'IEZST00gYl9vcHRpb'.'2'.'4g'.'V0h'.'F'.'U'.'kUgTkF'.'N'.'R'.'T0nfl'.'BBUkFNX'.'0ZJTklTSF9EQV'.'RFJyBBTk'.'QgTU9E'.'VUx'.'FX0lEPSd'.'t'.'YW'.'luJ'.'yB'.'BTkQ'.'gU0l'.'UR'.'V9J'.'RCB'.'JUyBOVU'.'xM',''.'V'.'kFM'.'VU'.'U'.'=','L'.'g==','S'.'Co=','Yml0c'.'ml4','TElDRU'.'5'.'TRV9L'.'RVk=','c'.'2'.'hhMjU2','MjAxOC0w'.'MS'.'0'.'wMQ==','Mj'.'AxOC0wMS0w'.'M'.'Q==','LQ==','TElDRU5TRV'.'9FWFBJUkVE','TE'.'FO'.'REl'.'OR19'.'MS'.'UNFTlNFX0VYUElSRU'.'Q=','QUN'.'US'.'VZF','WQ==','UFVCT'.'ElD','WQ==',''.'REFUR'.'V9QVUJMSU'.'M=','REFURV9NT0RJRl'.'k=','Q'.'UNUSVZF','WQ='.'=','LyhbXDs'.'iXXs'.'w'.'LD'.'F9'.'KSNib'.'G9jayhbX'.'G'.'RdKykoW1w'.'mI'.'l17'.'MCwxf'.'SkvaXM=','c2VsZW'.'N0','SUQ'.'=',''.'UF'.'VCTElD',''.'UEFSRU5'.'UX'.'0'.'lE','Q09'.'ERQ==',''.'U09SVA'.'==','QUN'.'USVZ'.'F','QU'.'5DSE9S',''.'QUNDRV'.'NT','Q09'.'OVEVO'.'VA==','U0VBUkN'.'IX0NPTlR'.'FTlQ=','U09VUkNF'.'X1B'.'BUkFNU'.'w==','QV'.'NTRVRT','WE'.'1MX0l'.'E','Z'.'mlsdGVy','TElE','PURF'.'TEV'.'URUQ=','Tg==','SUQ=','UFV'.'CTElD',''.'W'.'Q==','Q0'.'9'.'OVEVO'.'VA='.'=',''.'L2hyZWZ'.'cPSIjY2F'.'0YWxv'.'Zy'.'hF'.'b'.'GVtZW50fFNlY3'.'R'.'pb2'.'4pKFtcZF'.'0rKSIva'.'Q'.'='.'=',''.'aHJlZj0i','Ig==','Q09OVEVOVA'.'==','Q09OV'.'EVO'.'VA'.'==','Y'.'29'.'udG'.'VudG'.'Vk'.'aXRhYmx'.'lPSJ'.'0'.'cnV'.'lIg==','','Q'.'09OVEVOV'.'A==','U'.'E'.'FSRU5'.'UX'.'0lE','UEFSRU5UX0'.'lE','S'.'UQ=','U09SVA='.'=',''.'U09'.'S'.'VA='.'=','QU'.'NUSVZ'.'F','QUNUS'.'V'.'ZF','QU5'.'DSE9'.'S','QU'.'5DSE9S','WE1MX0'.'lE','WE1MX0'.'lE','Q'.'UNDRV'.'NT','QUND'.'RVNT','U09'.'VUkNFX1BBUkFNUw==','U'.'0'.'9V'.'UkNFX1BBU'.'k'.'F'.'N'.'Uw'.'==','Q09'.'OVE'.'VOVA==','Q'.'09OVEVOVA==','U'.'0'.'VBUkNI'.'X0'.'N'.'PTlRFTlQ=','U0VBUk'.'NIX0NPTlRFTlQ=',''.'Q'.'V'.'NTR'.'V'.'RT',''.'QVNTRVRT','U'.'EFSRU5U'.'X0lE','Q09OV'.'EVOV'.'A==',''.'TElE','Q0'.'9E'.'RQ==','Q'.'09E'.'RQ==','U09SV'.'A'.'==',''.'U09SVA==','QU5DSE9S',''.'QU'.'5DSE9'.'S',''.'WE1'.'MX0'.'l'.'E',''.'WE1MX0lE','Q'.'U'.'N'.'US'.'V'.'ZF',''.'QUNUSVZF',''.'QU'.'NDR'.'VN'.'T','QUNDRVNT','U09VUk'.'NFX1'.'BB'.'U'.'kFNUw='.'=','U0'.'9VUk'.'N'.'FX1BBUkF'.'NUw='.'=','Q09O'.'VEV'.'OVA='.'=','Q09'.'OVEVOVA==',''.'U0VBUkN'.'IX'.'0'.'NP'.'Tl'.'R'.'FT'.'l'.'Q'.'=','U0VBUkNIX0NPTl'.'RFTlQ=','Q'.'V'.'NTR'.'VRT','QVNTRVRT',''.'UEFSRU'.'5UX0lE','Q09OVEVO'.'VA==','Q09OVEVOVA==',''.'Q09O'.'VEVO'.'V'.'A==','I2Jsb2Nr','I2Jsb'.'2Nr','Q09OVE'.'VOVA='.'=');return base64_decode($_19774048[$_1627061532]);}}; use \Bitrix\Landing\Internals\HookDataTable as HookData; use \Bitrix\Landing\Assets; use \Bitrix\Landing\Block\Cache; use \Bitrix\Landing\Restriction; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; use \Bitrix\Rest\AppTable; Loc::loadMessages(__FILE__); $GLOBALS['____1728407253'][0](___505846895(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_805492774= array(); Manager::disableAllFeaturesTmp();  $_1610294099= new Event(___505846895(1), ___505846895(2), array( ___505846895(3) => $landing->getId(), ___505846895(4) => $landing->getSiteId())); $_1610294099->send(); foreach($_1610294099->getResults() as $_1821667984){ if($_1821667984->getType() == EventResult::ERROR){ foreach($_1821667984->getErrors() as $_265941732){ $landing->getError()->addError( $_265941732->getCode(), $_265941732->getMessage());} return false;}}  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___505846895(5) => array( ___505846895(6) => $landing->getId())))){ $landing->getError()->addError( ___505846895(7), Restriction\Manager::getSystemErrorMessage(___505846895(8))); return false;}  $_565637291= $landing->getMeta(); if( isset($_565637291[___505846895(9)]) && \Bitrix\Main\Loader::includeModule(___505846895(10))){ $_418939004= AppTable::getList([ ___505846895(11) =>[ ___505846895(12) => $_565637291[___505846895(13)]]]); if($_1589154977= $_418939004->fetch()){ $_985573812= AppTable::getAppStatusInfo($_1589154977, ___505846895(14)); if($_985573812[___505846895(15)] != ___505846895(16)){ $landing->getError()->addError( ___505846895(17), Restriction\Manager::getSystemErrorMessage(___505846895(18))); return false;}}}  $_418939004= Site::getList(array( ___505846895(19) => array( ___505846895(20), ___505846895(21)), ___505846895(22) => array( ___505846895(23) => $landing->getSiteId(), ___505846895(24) => ___505846895(25), ___505846895(26) => ___505846895(27)))); if($_1589154977= $_418939004->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE, array( ___505846895(28) => array( ___505846895(29) => $_1589154977[___505846895(30)]), ___505846895(31) => $_1589154977[___505846895(32)]))){ $landing->getError()->addError( ___505846895(33), Restriction\Manager::getSystemErrorMessage(___505846895(34))); return false;}}  if(\Bitrix\Landing\Hook\Page\HeadBlock::isLockedFeature()){ $_769159629=[$landing->getId()];  $_418939004= Landing::getList([ ___505846895(35) =>[ ___505846895(36)], ___505846895(37) =>[ ___505846895(38) => $landing->getSiteId(), ___505846895(39) => ___505846895(40)]]); while($_1589154977= $_418939004->fetch()){ $_769159629[]= $_1589154977[___505846895(41)];} $_418939004= HookData::getList([ ___505846895(42) =>[ ___505846895(43), ___505846895(44), ___505846895(45)], ___505846895(46) =>[[ ___505846895(47) => ___505846895(48),[ ___505846895(49) => Hook::ENTITY_TYPE_SITE, ___505846895(50) => $landing->getSiteId()],[ ___505846895(51) => Hook::ENTITY_TYPE_LANDING, ___505846895(52) => $_769159629]], ___505846895(53) => ___505846895(54), ___505846895(55) => ___505846895(56), ___505846895(57) => ___505846895(58)], ___505846895(59) => round(0+1)]); if($_1589154977= $_418939004->fetch()){ $landing->getError()->addError( ___505846895(60). $_1589154977[___505846895(61)]. $_1589154977[___505846895(62)]. ___505846895(63), Restriction\Manager::getSystemErrorMessage(___505846895(64))); return false;}}  $_1610294099= new Event(___505846895(65), ___505846895(66), array( ___505846895(67) => $landing->getId())); $_1610294099->send(); foreach($_1610294099->getResults() as $_1821667984){ if($_1821667984->getResultType() == EventResult::ERROR){ foreach($_1821667984->getErrors() as $_265941732){ $landing->getError()->addError( $_265941732->getCode(), $_265941732->getMessage());} return false;}} if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___505846895(68))){ $_701088805= $GLOBALS[___505846895(69)]->Query(___505846895(70), true); if($_418939004= $_701088805->Fetch()){ $_626678645= $_418939004[___505846895(71)]; list($_1915982710, $_1140150687)= $GLOBALS['____1728407253'][1](___505846895(72), $_626678645); $_929139871= $GLOBALS['____1728407253'][2](___505846895(73), $_1915982710); $_1250938830= ___505846895(74).$GLOBALS['____1728407253'][3]($GLOBALS['____1728407253'][4](___505846895(75))); $_1031790852= $GLOBALS['____1728407253'][5](___505846895(76), $_1140150687, $_1250938830, true); if($GLOBALS['____1728407253'][6]($_1031790852, $_929139871) !==(1372/2-686)){ $_1140150687= ___505846895(77);}} else{ $_1140150687= ___505846895(78);} if(!empty($_1140150687)){ $_1422154770= $GLOBALS['____1728407253'][7](___505846895(79), $_1140150687); $_515427069= $GLOBALS['____1728407253'][8]((780-2*390),(880-2*440), min(208,0,69.333333333333), $_1422154770[round(0+1)], $_1422154770[round(0+0.5+0.5+0.5+0.5)], $_1422154770[(1208/2-604)]); if($_515427069 <= $GLOBALS['____1728407253'][9]()){ $landing->getError()->addError( ___505846895(80), Loc::getMessage(___505846895(81))); return false;}}} if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___505846895(82))){ $_701088805= $GLOBALS[___505846895(83)]->Query(___505846895(84), true); if($_418939004= $_701088805->Fetch()){ $_626678645= $_418939004[___505846895(85)]; list($_1915982710, $_1140150687)= $GLOBALS['____1728407253'][10](___505846895(86), $_626678645); $_929139871= $GLOBALS['____1728407253'][11](___505846895(87), $_1915982710); $_1250938830= ___505846895(88).$GLOBALS['____1728407253'][12]($GLOBALS['____1728407253'][13](___505846895(89))); $_1031790852= $GLOBALS['____1728407253'][14](___505846895(90), $_1140150687, $_1250938830, true); if($GLOBALS['____1728407253'][15]($_1031790852, $_929139871) !==(802-2*401)){ $_1140150687= ___505846895(91);}} else{ $_1140150687= ___505846895(92);} if(!empty($_1140150687)){ $_1422154770= $GLOBALS['____1728407253'][16](___505846895(93), $_1140150687); $_515427069= $GLOBALS['____1728407253'][17]((1120/2-560), min(132,0,44), min(200,0,66.666666666667), $_1422154770[round(0+0.25+0.25+0.25+0.25)], $_1422154770[round(0+2)], $_1422154770[(1468/2-734)]); if($_515427069 <= $GLOBALS['____1728407253'][18]()){ $landing->getError()->addError( ___505846895(94), Loc::getMessage(___505846895(95))); return false;}}} Hook::setEditMode(); Hook::publicationSite($landing->getSiteId()); Hook::publicationLanding($landing->getId()); Assets\Manager::rebuildWebpackForLanding($landing->getId());  Block::publicationBlocks($landing); $_1622551039= new \Bitrix\Main\Type\DateTime; $_418939004= Landing::update($landing->getId(), array( ___505846895(96) => ___505846895(97), ___505846895(98) => ___505846895(99), ___505846895(100) => $_1622551039, ___505846895(101) => false));  if($_418939004->isSuccess()){ if(!$GLOBALS['____1728407253'][19]($landing->getSiteId(), $_805492774)){ $_805492774[]= $landing->getSiteId(); $_418939004= Site::update($landing->getSiteId(), array( ___505846895(102) => ___505846895(103))); if(!$_418939004->isSuccess()){ $landing->getError()->addFromResult( $_418939004); return false;}} return true;} else{ $landing->getError()->addFromResult( $_418939004);} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_463210881= $landing->getId(); $_650918326= array(); $_645595302= array(); $_1019193591= array(); $_1969293613= ___505846895(104); $_418939004= Block::getList(array( ___505846895(105) => array( ___505846895(106), ___505846895(107), ___505846895(108), ___505846895(109), ___505846895(110), ___505846895(111), ___505846895(112), ___505846895(113), ___505846895(114), ___505846895(115), ___505846895(116), ___505846895(117), ___505846895(118)), ___505846895(119) => array( ___505846895(120) => $landing->getId(), ___505846895(121) => ___505846895(122)))); while($_1589154977= $_418939004->fetch()){ $_650918326[$_1589154977[___505846895(123)]]= $_1589154977;}  foreach($_650918326 as $_1710665265 => $_286699333){ if($_286699333[___505846895(124)] != ___505846895(125)){  $_286699333[___505846895(126)]= $GLOBALS['____1728407253'][20]( ___505846895(127), function($_451072066){ return ___505846895(128). PublicAction\Utils::getIblockURL( $_451072066[round(0+0.5+0.5+0.5+0.5)], $GLOBALS['____1728407253'][21]($_451072066[round(0+0.25+0.25+0.25+0.25)])). ___505846895(129);}, $_286699333[___505846895(130)]);  $_286699333[___505846895(131)]= $GLOBALS['____1728407253'][22]( ___505846895(132), ___505846895(133), $_286699333[___505846895(134)]); $_17274564= isset($_650918326[$_286699333[___505846895(135)]])? $_650918326[$_286699333[___505846895(136)]][___505846895(137)]:(1072/2-536); if($_17274564){ Cache::clear($_17274564); $_418939004= Block::update($_17274564, array( ___505846895(138) => $_286699333[___505846895(139)], ___505846895(140) => $_286699333[___505846895(141)], ___505846895(142) => $_286699333[___505846895(143)], ___505846895(144) => $_286699333[___505846895(145)], ___505846895(146) => $_286699333[___505846895(147)], ___505846895(148) => $_286699333[___505846895(149)], ___505846895(150) => $_286699333[___505846895(151)], ___505846895(152) => $_286699333[___505846895(153)], ___505846895(154) => $_286699333[___505846895(155)])); $_418939004->isSuccess(); unset($_650918326[$_286699333[___505846895(156)]]);  File::replaceInBlock( $_17274564, File::getFilesFromBlockContent( $_1710665265, $_286699333[___505846895(157)])); Assets\PreProcessing::blockPublicationProcessing(new Block($_17274564));} else{ $_418939004= Block::add(array( ___505846895(158) => $_463210881, ___505846895(159) => $_286699333[___505846895(160)], ___505846895(161) => $_286699333[___505846895(162)], ___505846895(163) => $_286699333[___505846895(164)], ___505846895(165) => $_286699333[___505846895(166)], ___505846895(167) => $_286699333[___505846895(168)], ___505846895(169) => $_286699333[___505846895(170)], ___505846895(171) => $_286699333[___505846895(172)], ___505846895(173) => $_286699333[___505846895(174)], ___505846895(175) => $_286699333[___505846895(176)], ___505846895(177) => $_286699333[___505846895(178)])); if($_418939004->isSuccess()){ $_17274564= $_418939004->getId(); $_418939004= Block::update($_1710665265, array( ___505846895(179) => $_17274564)); $_418939004->isSuccess();  File::addToBlock( $_17274564, File::getFilesFromBlockContent( $_1710665265, $_286699333[___505846895(180)])); Assets\PreProcessing::blockPublicationProcessing(new Block($_17274564));}} if($GLOBALS['____1728407253'][23]($_1969293613, $_286699333[___505846895(181)])){ $_645595302[$_17274564]= $_286699333[___505846895(182)];} $_1019193591[$_1710665265]= $_17274564; unset($_650918326[$_1710665265]);}}  foreach($_650918326 as $_1710665265 => $_286699333){ $_418939004= Block::delete($_1710665265); $_418939004->isSuccess();}  foreach($_645595302 as $_1710665265 => $_89921781){ $_89921781= $GLOBALS['____1728407253'][24]( $_1969293613, function($_576575798) use($_1019193591){ if(isset($_1019193591[$_576575798[round(0+2)]])){ return $_576575798[round(0+0.5+0.5)]. ___505846895(183). $_1019193591[$_576575798[round(0+2)]]. $_576575798[round(0+0.75+0.75+0.75+0.75)];} else{ return $_576575798[round(0+0.25+0.25+0.25+0.25)]. ___505846895(184). $_576575798[round(0+0.66666666666667+0.66666666666667+0.66666666666667)]. $_576575798[round(0+1+1+1)];}}, $_89921781); $_418939004= Block::update($_1710665265, array( ___505846895(185) => $_89921781)); $_418939004->isSuccess();}}}}?>